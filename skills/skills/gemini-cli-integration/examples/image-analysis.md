# 图片分析示例

使用Gemini CLI分析各类图片的实战示例。

---

## 场景1: UI截图审查

### 触发语

```
用Gemini帮我看看这个UI设计有没有问题 design-v2.png
```

### 执行命令

```bash
gemini -p "你是一位资深UI/UX设计师。请审查这张界面截图：

## 审查维度
1. **视觉设计**：色彩搭配、字体层次、间距一致性
2. **交互设计**：按钮状态、表单易用性、操作引导
3. **信息架构**：内容优先级、视觉动线、信息密度

## 输出格式
### 总体评分: X/10

### 优点
- ...

### 问题清单
| 问题 | 严重程度 | 位置 | 建议 |
|------|----------|------|------|
| ... | 高/中/低 | ... | ... |

### 改进优先级
1. 必须修复: ...
2. 建议优化: ...
3. 可以考虑: ..." design-v2.png --yolo
```

### 预期输出

```markdown
### 总体评分: 7/10

### 优点
- 整体配色简洁现代
- 主要CTA按钮突出
- 信息层次基本清晰

### 问题清单
| 问题 | 严重程度 | 位置 | 建议 |
|------|----------|------|------|
| 圆角不一致 | 中 | 卡片组件 | 统一为8px |
| 文字对比度不足 | 高 | 灰色说明文字 | 提升至4.5:1 |
| 按钮间距过小 | 低 | 底部操作区 | 增加到16px |

### 改进优先级
1. 必须修复: 文字对比度（无障碍合规）
2. 建议优化: 圆角统一性
3. 可以考虑: 按钮间距微调
```

---

## 场景2: 错误截图诊断

### 触发语

```
Gemini帮我分析这个报错截图，找出问题 error-screenshot.png
```

### 执行命令

```bash
gemini -p "这是一个应用程序的错误截图。请：

1. 提取截图中的错误信息（完整文字）
2. 分析错误类型和可能原因
3. 给出排查步骤
4. 如果能看出技术栈，给出针对性建议" error-screenshot.png --yolo
```

### 预期输出

```markdown
## 错误信息提取

```
TypeError: Cannot read property 'map' of undefined
    at UserList (UserList.jsx:23)
    at renderWithHooks (react-dom.development.js:14985)
```

## 分析

**错误类型**: JavaScript TypeError
**技术栈**: React (根据堆栈判断)

**可能原因**:
1. `users` 数据未初始化就调用了 `.map()`
2. API返回数据格式异常
3. 状态更新时序问题

## 排查步骤

1. 检查组件初始state是否设置了空数组默认值
   ```javascript
   const [users, setUsers] = useState([]);  // ✅
   const [users, setUsers] = useState();    // ❌
   ```

2. 检查API响应格式
   ```javascript
   console.log('API response:', response.data);
   ```

3. 添加可选链保护
   ```javascript
   users?.map(user => ...)
   ```

## 快速修复建议

```javascript
// UserList.jsx:23 附近
{(users || []).map(user => (
  <UserItem key={user.id} user={user} />
))}
```
```

---

## 场景3: 设计稿对比

### 触发语

```
用Gemini对比这两张图，找出差异 design.png implementation.png
```

### 执行命令

```bash
gemini -p "这是同一个界面的设计稿和实现截图。请：

1. 找出设计稿和实现之间的差异
2. 按严重程度分类（影响用户体验/视觉差异/细节偏差）
3. 给出具体的CSS修复建议

输出格式用表格：
| 差异点 | 设计稿 | 实现 | 严重程度 | 修复建议 |" design.png implementation.png --yolo
```

---

## 场景4: 图表数据提取

### 触发语

```
让Gemini提取这张图表里的数据 chart.png
```

### 执行命令

```bash
gemini -p "请从这张图表中提取数据：

1. 识别图表类型
2. 提取所有可见的数据点
3. 整理成结构化表格
4. 如果有趋势，描述趋势特征

输出格式：
- 图表类型：
- 数据表格：
- 趋势分析：" chart.png --yolo
```

### 预期输出

```markdown
## 图表类型
折线图 - 月度销售趋势

## 数据表格
| 月份 | 销售额(万) | 环比增长 |
|------|-----------|----------|
| 1月 | 120 | - |
| 2月 | 98 | -18.3% |
| 3月 | 145 | +48.0% |
| 4月 | 167 | +15.2% |
| 5月 | 189 | +13.2% |
| 6月 | 210 | +11.1% |

## 趋势分析
- 整体呈上升趋势
- 2月有明显下降（可能受春节影响）
- 3月起持续增长，增速逐渐放缓
- 预测7月可能在220-230万区间
```

---

## 场景5: 移动端适配检查

### 触发语

```
Gemini检查这个移动端截图的适配问题 mobile.png
```

### 执行命令

```bash
gemini -p "这是一个移动端界面截图。作为移动端适配专家，请检查：

1. **触摸目标**: 按钮/链接是否足够大（推荐48x48dp）
2. **内容溢出**: 是否有文字截断或布局溢出
3. **间距合理性**: 边距是否适合单手操作
4. **可读性**: 字号是否合适，对比度是否足够
5. **手势考虑**: 是否有潜在的误触区域

给出具体问题和修复建议。" mobile.png --yolo
```

---

## 通用Prompt模板

### 通用图片分析

```bash
gemini -p "请详细描述这张图片：
1. 主要内容和元素
2. 布局结构
3. 色彩和风格
4. 任何需要注意的细节" image.png --yolo
```

### 技术截图分析

```bash
gemini -p "这是一张技术相关的截图，请：
1. 提取所有文字内容
2. 识别技术栈/工具
3. 分析截图展示的问题或信息
4. 如果是错误，给出解决建议" screenshot.png --yolo
```

### 对比分析

```bash
gemini -p "请对比这些图片：
1. 找出主要差异
2. 分析差异的影响
3. 给出改进建议" img1.png img2.png --yolo
```

---

## 注意事项

1. **图片质量**：确保截图清晰，文字可辨认
2. **文件大小**：过大的图片可能需要压缩
3. **敏感信息**：检查截图中是否包含密码、token等
4. **期望明确**：prompt中说清楚想要什么格式的输出
