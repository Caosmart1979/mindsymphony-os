# MiroThinker Ã— MindSymphony é›†æˆæ–¹æ¡ˆ

**ç‰ˆæœ¬**: 21.0.0-evolution
**æ—¥æœŸ**: 2025-01-11
**æ¶æ„**: API + Skill åŒå±‚é›†æˆ

---

## ğŸ¯ é›†æˆæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MiroThinker Ã— MindSymphony é›†æˆæ¶æ„                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           ç”¨æˆ·äº¤äº’å±‚ (User Interface)                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  è‡ªç„¶è¯­è¨€ | CLI | API                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                       â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         MindSymphony v21.0 (æ™ºèƒ½è·¯ç”±å±‚)                  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ ç»Ÿä¸€è§¦å‘å±‚ (Unified Triggers)                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ å‘½ä»¤: /miro, /research                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ è¯­ä¹‰: "æ·±åº¦åˆ†æè¿™ç¯‡è®ºæ–‡"                       â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ æ¨¡å¼: "æ–‡çŒ®ç»¼è¿°", "æ·±åº¦æ¨ç†"                   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                         â”‚                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ æ™ºèƒ½è·¯ç”± (Intelligent Router)                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ éœ€è¦æ·±åº¦æ¨ç†? â†’ MiroThinker                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ éœ€è¦é•¿æ–‡æ¡£? â†’ MiroThinker                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ éœ€è¦åä½œ? â†’ Skills + n8n                      â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                       â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          é›†æˆå±‚ (Integration Layer)                      â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ æ–¹æ¡ˆ 1: MCP æœåŠ¡å™¨ (æ¨è)                          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ mcp-mirothinker-server                         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ æ ‡å‡†åŒ–æ¥å£                                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ åŒå‘é€šä¿¡                                       â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ æ–¹æ¡ˆ 2: Skill å°è£…                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ miro-researcher.skill                          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ç»Ÿä¸€æŠ€èƒ½æ¥å£                                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ å¯è¿›åŒ–ä¼˜åŒ–                                     â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ æ–¹æ¡ˆ 3: ç›´æ¥ API è°ƒç”¨                              â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ REST API                                       â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ å¿«é€Ÿå“åº”                                       â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ç®€å•ç›´æ¥                                       â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                       â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          MiroThinker æœåŠ¡å±‚                              â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â€¢ MiroEngine (æ¨ç†å¼•æ“)                                 â”‚   â”‚
â”‚  â”‚  â€¢ ThoughtChain (æ€ç»´é“¾)                                 â”‚   â”‚
â”‚  â”‚  â€¢ Pure RAG (é›¶å‘é‡DB)                                   â”‚   â”‚
â”‚  â”‚  â€¢ ContextManager (é•¿ä¸Šä¸‹æ–‡)                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ–¹æ¡ˆ 1: MCP æœåŠ¡å™¨é›†æˆï¼ˆæ¨èï¼‰

### æ¶æ„è®¾è®¡

```yaml
# MCP æœåŠ¡å™¨é…ç½®
mcp_mirothinker_server:
  name: "mcp-mirothinker"
  version: "1.0.0"
  description: "MiroThinker MCP Server for MindSymphony"

  # æœåŠ¡å™¨é…ç½®
  server:
    type: "python"
    host: "localhost"
    port: 3001
    endpoint: "/mcp"

  # å¯ç”¨å·¥å…·
  tools:
    # 1. æ·±åº¦æ¨ç†
    - name: "deep_reasoning"
      description: "ä½¿ç”¨æ€ç»´é“¾è¿›è¡Œæ·±åº¦æ¨ç†"
      parameters:
        - name: "query"
          type: "string"
          required: true
        - name: "documents"
          type: "array"
          required: false
        - name: "reasoning_depth"
          type: "integer"
          default: 3

    # 2. é•¿æ–‡æ¡£åˆ†æ
    - name: "analyze_document"
      description: "æ·±åº¦åˆ†æé•¿æ–‡æ¡£"
      parameters:
        - name: "document_path"
          type: "string"
          required: true
        - name: "analysis_type"
          type: "string"
          enum: ["summary", "extraction", "analysis"]
        - name: "output_format"
          type: "string"
          default: "structured"

    # 3. çº¯ RAG æŸ¥è¯¢
    - name: "pure_rag_query"
      description: "æ— å‘é‡æ•°æ®åº“çš„ RAG æŸ¥è¯¢"
      parameters:
        - name: "query"
          type: "string"
          required: true
        - name: "documents"
          type: "array"
          required: true
        - name: "top_k"
          type: "integer"
          default: 5

    # 4. æ€ç»´é“¾ç”Ÿæˆ
    - name: "generate_thought_chain"
      description: "ç”Ÿæˆç»“æ„åŒ–æ€ç»´é“¾"
      parameters:
        - name: "problem"
          type: "string"
          required: true
        - name: "chain_type"
          type: "string"
          enum: ["linear", "tree", "graph"]
```

### MCP æœåŠ¡å™¨å®ç°

```python
# mcp_mirothinker_server.py
"""
MiroThinker MCP Server
ä¸º MindSymphony æä¾›æ·±åº¦æ¨ç†èƒ½åŠ›
"""

from mcp.server import Server
from mirothinker import MiroEngine, ThoughtChain, PureRAG
import asyncio

app = Server("mcp-mirothinker")

# åˆå§‹åŒ– MiroThinker å¼•æ“
miro_engine = MiroEngine()
thought_chain = ThoughtChain()
pure_rag = PureRAG()

@app.tool("deep_reasoning")
async def deep_reasoning(
    query: str,
    documents: list = None,
    reasoning_depth: int = 3
) -> dict:
    """
    ä½¿ç”¨æ€ç»´é“¾è¿›è¡Œæ·±åº¦æ¨ç†

    Args:
        query: ç”¨æˆ·æŸ¥è¯¢
        documents: ç›¸å…³æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰
        reasoning_depth: æ¨ç†æ·±åº¦ï¼ˆé»˜è®¤3ï¼‰

    Returns:
        æ¨ç†ç»“æœå’Œæ€ç»´é“¾
    """
    # æ„å»ºæ€ç»´é“¾
    chain = thought_chain.build(
        query=query,
        documents=documents,
        depth=reasoning_depth
    )

    # æ‰§è¡Œæ·±åº¦æ¨ç†
    result = await miro_engine.reason_async(
        query=query,
        chain=chain
    )

    return {
        "answer": result.answer,
        "thought_chain": result.chain,
        "confidence": result.confidence,
        "sources": result.sources
    }

@app.tool("analyze_document")
async def analyze_document(
    document_path: str,
    analysis_type: str = "analysis",
    output_format: str = "structured"
) -> dict:
    """
    æ·±åº¦åˆ†ææ–‡æ¡£

    Args:
        document_path: æ–‡æ¡£è·¯å¾„
        analysis_type: åˆ†æç±»å‹
        output_format: è¾“å‡ºæ ¼å¼

    Returns:
        ç»“æ„åŒ–åˆ†æç»“æœ
    """
    result = await miro_engine.analyze_document_async(
        path=document_path,
        analysis_type=analysis_type
    )

    return {
        "summary": result.summary,
        "key_points": result.key_points,
        "insights": result.insights,
        "metadata": result.metadata
    }

@app.tool("pure_rag_query")
async def pure_rag_query(
    query: str,
    documents: list,
    top_k: int = 5
) -> dict:
    """
    æ— å‘é‡æ•°æ®åº“çš„ RAG æŸ¥è¯¢

    Args:
        query: æŸ¥è¯¢é—®é¢˜
        documents: æ–‡æ¡£åˆ—è¡¨
        top_k: è¿”å›ç»“æœæ•°é‡

    Returns:
        RAG æŸ¥è¯¢ç»“æœ
    """
    # ä½¿ç”¨çº¯ RAGï¼ˆæ— éœ€å‘é‡æ•°æ®åº“ï¼‰
    results = await pure_rag.query_async(
        query=query,
        documents=documents,
        top_k=top_k
    )

    return {
        "answer": results.answer,
        "relevant_chunks": results.chunks,
        "confidence_scores": results.scores
    }

@app.tool("generate_thought_chain")
async def generate_thought_chain(
    problem: str,
    chain_type: str = "linear"
) -> dict:
    """
    ç”Ÿæˆç»“æ„åŒ–æ€ç»´é“¾

    Args:
        problem: å¾…è§£å†³é—®é¢˜
        chain_type: æ€ç»´é“¾ç±»å‹

    Returns:
        ç»“æ„åŒ–æ€ç»´é“¾
    """
    chain = await thought_chain.generate_async(
        problem=problem,
        chain_type=chain_type
    )

    return {
        "steps": chain.steps,
        "logic_flow": chain.logic_flow,
        "decision_points": chain.decisions
    }

# å¯åŠ¨æœåŠ¡å™¨
if __name__ == "__main__":
    app.run(port=3001)
```

### MindSymphony é…ç½®é›†æˆ

```yaml
# mindsymphony.config.yml æ·»åŠ 
mcp:
  servers:
    # ... å…¶ä»– MCP æœåŠ¡å™¨

    # MiroThinker MCP æœåŠ¡å™¨
    mcp-mirothinker:
      description: "æ·±åº¦æ¨ç†å’Œé•¿æ–‡æ¡£åˆ†æ"
      enabled: true
      endpoint: "http://localhost:3001/mcp"
      capabilities:
        - "deep_reasoning"
        - "document_analysis"
        - "pure_rag"
        - "thought_chain"

# ç»Ÿä¸€è§¦å‘å™¨é…ç½®
unified_triggers:
  skill_triggers:
    # MiroThinker æ·±åº¦æ¨ç†æŠ€èƒ½
    - skill: "mcp-mirothinker/deep_reasoning"
      priority: "high"
      category: "reasoning"

      triggers:
        - type: "command"
          patterns: ["/miro", "/æ·±åº¦æ¨ç†", "/deep"]
          weight: 10.0

        - type: "semantic"
          intent: "deep_reasoning"
          keywords: ["æ·±åº¦åˆ†æ", "æ¨ç†", "æ€ç»´é“¾"]
          examples:
            - "æ·±åº¦åˆ†æè¿™ä¸ªé—®é¢˜"
            - "ç”¨æ€ç»´é“¾æ¨ç†"
            - "ç»™æˆ‘è¯¦ç»†çš„æ¨ç†è¿‡ç¨‹"
          weight: 8.0

        - type: "pattern"
          regex: "æ·±åº¦.*æ¨ç†|æ€ç»´é“¾|è¯¦ç»†.*åˆ†æ"
          weight: 6.0

    # MiroThinker æ–‡æ¡£åˆ†ææŠ€èƒ½
    - skill: "mcp-mirothinker/analyze_document"
      priority: "high"
      category: "analysis"

      triggers:
        - type: "command"
          patterns: ["/æ–‡æ¡£åˆ†æ", "/doc_analyze"]
          weight: 10.0

        - type: "semantic"
          intent: "document_analysis"
          examples:
            - "æ·±åº¦åˆ†æè¿™ç¯‡è®ºæ–‡"
            - "æå–æ–‡æ¡£å…³é”®ä¿¡æ¯"
            - "ç”Ÿæˆæ–‡æ¡£æ‘˜è¦"
          weight: 8.0

    # MiroThinker çº¯ RAG æŠ€èƒ½
    - skill: "mcp-mirothinker/pure_rag_query"
      priority: "medium"
      category: "retrieval"

      triggers:
        - type: "semantic"
          intent: "pure_rag_query"
          examples:
            - "æŸ¥è¯¢è¿™äº›æ–‡æ¡£"
            - "ä¸ç”¨å‘é‡åº“æœç´¢"
          weight: 7.0
```

---

## æ–¹æ¡ˆ 2: Skill å°è£…

### Skill æ–‡ä»¶ç»“æ„

```
mindsymphony-v15.6/skills/
â””â”€â”€ mirothinker-integration/
    â”œâ”€â”€ SKILL.md
    â”œâ”€â”€ skill.yml
    â”œâ”€â”€ README.md
    â””â”€â”€ examples/
        â”œâ”€â”€ basic_usage.md
        â”œâ”€â”€ advanced_usage.md
        â””â”€â”€ integration_patterns.md
```

### SKILL.md

```markdown
# MiroThinker æ·±åº¦æ¨ç†æŠ€èƒ½

## æŠ€èƒ½æ¦‚è¿°

æœ¬æŠ€èƒ½å°† MiroThinker çš„æ·±åº¦æ¨ç†èƒ½åŠ›é›†æˆåˆ° MindSymphony ä¸­ï¼Œ
æä¾›æ— å‘é‡æ•°æ®åº“çš„ RAGã€æ€ç»´é“¾æ¨ç†ã€é•¿æ–‡æ¡£åˆ†æç­‰åŠŸèƒ½ã€‚

## æ ¸å¿ƒèƒ½åŠ›

1. **æ·±åº¦æ¨ç†** (Deep Reasoning)
   - æ€ç»´é“¾æ¨ç†
   - å¤šæ­¥é€»è¾‘æ¨å¯¼
   - å¯è§£é‡Šçš„æ¨ç†è¿‡ç¨‹

2. **çº¯ RAG** (Pure RAG)
   - æ— éœ€å‘é‡æ•°æ®åº“
   - æ™ºèƒ½æ–‡æ¡£åŒ¹é…
   - ä¸Šä¸‹æ–‡æ„ŸçŸ¥

3. **é•¿æ–‡æ¡£åˆ†æ** (Long Document Analysis)
   - è¶…é•¿æ–‡æ¡£å¤„ç†
   - å…³é”®ä¿¡æ¯æå–
   - ç»“æ„åŒ–æ‘˜è¦

4. **æ€ç»´é“¾ç”Ÿæˆ** (Thought Chain Generation)
   - é—®é¢˜åˆ†è§£
   - é€»è¾‘æµç¨‹
   - å†³ç­–ç‚¹è¯†åˆ«

## ä½¿ç”¨æ–¹å¼

### å‘½ä»¤è§¦å‘
```
/miro æ·±åº¦åˆ†æè¿™ä¸ªé—®é¢˜
/æ–‡æ¡£åˆ†æ åˆ†æè¿™ç¯‡è®ºæ–‡
/æ¨ç† ç”¨æ€ç»´é“¾æ¨ç†
```

### è¯­ä¹‰è§¦å‘
```
"æ·±åº¦åˆ†æè¿™ä¸ªç ”ç©¶é—®é¢˜"
"ç”¨æ€ç»´é“¾å¸®æˆ‘æ¨ç†"
"è¯¦ç»†åˆ†æè¿™ç¯‡é•¿æ–‡æ¡£"
```

## ä¸å…¶ä»–æŠ€èƒ½çš„åä½œ

- ä¸ `scientific-writing` åä½œï¼šæ·±åº¦åˆ†ææ–‡çŒ®
- ä¸ `literature-review` åä½œï¼šæ™ºèƒ½æ–‡çŒ®ç»¼è¿°
- ä¸ `knowledge-explorer` åä½œï¼šæ·±åº¦çŸ¥è¯†æ¢ç´¢

## é…ç½®è¦æ±‚

- Python 3.10+
- MiroThinker å®‰è£…
- MCP æœåŠ¡å™¨è¿è¡Œï¼ˆå¯é€‰ï¼‰
```

### skill.yml

```yaml
name: "mirothinker-integration"
version: "1.0.0"
description: "MiroThinker æ·±åº¦æ¨ç†é›†æˆæŠ€èƒ½"
author: "MindSymphony"
category: "reasoning"

# ä¾èµ–
dependencies:
  python:
    - "mirothinker>=0.2.0"
    - "langchain>=0.1.0"

  mcp_servers:
    - "mcp-mirothinker"

# æŠ€èƒ½é…ç½®
config:
  # é»˜è®¤æ¨ç†æ·±åº¦
  default_reasoning_depth: 3

  # æ–‡æ¡£å¤§å°é™åˆ¶
  max_document_size: "100MB"

  # è¾“å‡ºæ ¼å¼
  default_output_format: "structured"

# è§¦å‘å™¨
triggers:
  - type: "command"
    patterns: ["/miro", "/æ·±åº¦æ¨ç†"]

  - type: "semantic"
    intent: "deep_reasoning"

# åä½œ
collaboration:
  works_with:
    - "scientific-writing"
    - "literature-review"
    - "knowledge-explorer"
```

---

## æ–¹æ¡ˆ 3: ç›´æ¥ API è°ƒç”¨

### Python API å°è£…

```python
# mirothinker_api.py
"""
MiroThinker API å°è£…
ä¾› MindSymphony ç›´æ¥è°ƒç”¨
"""

import requests
from typing import List, Dict, Any

class MiroThinkerAPI:
    """MiroThinker API å®¢æˆ·ç«¯"""

    def __init__(self, base_url: str = "http://localhost:3001"):
        self.base_url = base_url

    def deep_reasoning(
        self,
        query: str,
        documents: List[str] = None,
        reasoning_depth: int = 3
    ) -> Dict[str, Any]:
        """
        æ·±åº¦æ¨ç†

        Args:
            query: æŸ¥è¯¢é—®é¢˜
            documents: æ–‡æ¡£åˆ—è¡¨
            reasoning_depth: æ¨ç†æ·±åº¦

        Returns:
            æ¨ç†ç»“æœ
        """
        response = requests.post(
            f"{self.base_url}/api/reasoning",
            json={
                "query": query,
                "documents": documents,
                "depth": reasoning_depth
            }
        )
        return response.json()

    def analyze_document(
        self,
        document_path: str,
        analysis_type: str = "analysis"
    ) -> Dict[str, Any]:
        """
        æ–‡æ¡£åˆ†æ

        Args:
            document_path: æ–‡æ¡£è·¯å¾„
            analysis_type: åˆ†æç±»å‹

        Returns:
            åˆ†æç»“æœ
        """
        response = requests.post(
            f"{self.base_url}/api/analyze",
            json={
                "document": document_path,
                "type": analysis_type
            }
        )
        return response.json()

    def pure_rag(
        self,
        query: str,
        documents: List[str],
        top_k: int = 5
    ) -> Dict[str, Any]:
        """
        çº¯ RAG æŸ¥è¯¢

        Args:
            query: æŸ¥è¯¢
            documents: æ–‡æ¡£åˆ—è¡¨
            top_k: è¿”å›æ•°é‡

        Returns:
            RAG ç»“æœ
        """
        response = requests.post(
            f"{self.base_url}/api/rag",
            json={
                "query": query,
                "documents": documents,
                "top_k": top_k
            }
        )
        return response.json()

# åœ¨ MindSymphony ä¸­ä½¿ç”¨
from mirothinker_api import MiroThinkerAPI

# åˆå§‹åŒ–å®¢æˆ·ç«¯
miro_api = MiroThinkerAPI()

# æ·±åº¦æ¨ç†
result = miro_api.deep_reasoning(
    query="åˆ†æè¿™ä¸ªç ”ç©¶çš„æ ¸å¿ƒè´¡çŒ®",
    reasoning_depth=5
)

print(result["answer"])
print(result["thought_chain"])
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ·±åº¦æ–‡çŒ®åˆ†æ

```yaml
# å·¥ä½œæµï¼šæ–‡çŒ®æ·±åº¦åˆ†æ
workflow:
  name: "æ·±åº¦æ–‡çŒ®åˆ†æ"

  steps:
    # Step 1: ä½¿ç”¨ MiroThinker æ·±åº¦åˆ†æ
    - tool: "mcp-mirothinker/analyze_document"
      input:
        document: "research_paper.pdf"
        analysis_type: "deep"
      output: "analysis_result"

    # Step 2: ç”Ÿæˆæ–‡çŒ®ç»¼è¿°
    - skill: "literature-review"
      input:
        analysis: "{{analysis_result}}"
      output: "review_draft"

    # Step 3: å†™ä½œæ¶¦è‰²
    - skill: "scientific-writing"
      input:
        draft: "{{review_draft}}"
      output: "final_review"
```

### ç¤ºä¾‹ 2: æ€ç»´é“¾æ¨ç†

```yaml
# å·¥ä½œæµï¼šå¤æ‚é—®é¢˜æ¨ç†
workflow:
  name: "æ€ç»´é“¾æ¨ç†"

  steps:
    # Step 1: ç”Ÿæˆæ€ç»´é“¾
    - tool: "mcp-mirothinker/generate_thought_chain"
      input:
        problem: "å¦‚ä½•æé«˜æ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Ÿ"
        chain_type: "tree"
      output: "thought_chain"

    # Step 2: æ‰§è¡Œæ·±åº¦æ¨ç†
    - tool: "mcp-mirothinker/deep_reasoning"
      input:
        query: "{{problem}}"
        reasoning_chain: "{{thought_chain}}"
      output: "reasoning_result"

    # Step 3: ç»¼åˆç­”æ¡ˆ
    - skill: "scientific-writing"
      input:
        reasoning: "{{reasoning_result}}"
      output: "final_answer"
```

### ç¤ºä¾‹ 3: çº¯ RAG æ–‡æ¡£æ£€ç´¢

```yaml
# å·¥ä½œæµï¼šæ— å‘é‡åº“çš„æ™ºèƒ½æ£€ç´¢
workflow:
  name: "çº¯ RAG æ£€ç´¢"

  steps:
    # Step 1: æ”¶é›†æ–‡æ¡£
    - tool: "filesystem"
      action: "read_documents"
      input:
        path: "./documents/"
      output: "documents"

    # Step 2: çº¯ RAG æŸ¥è¯¢
    - tool: "mcp-mirothinker/pure_rag_query"
      input:
        query: "ä»€ä¹ˆæ˜¯æ¨¡å‹è’¸é¦ï¼Ÿ"
        documents: "{{documents}}"
      output: "rag_result"

    # Step 3: ç”Ÿæˆç­”æ¡ˆ
    - skill: "knowledge-explorer"
      input:
        rag_result: "{{rag_result}}"
      output: "final_answer"
```

---

## é…ç½®æ–‡ä»¶å®Œæ•´ç¤ºä¾‹

```yaml
# mindsymphony-mirothinker.config.yml

system:
  version: "21.0.0-evolution-miro"
  description: "MindSymphony v21.0 + MiroThinker é›†æˆ"

# MCP æœåŠ¡å™¨é…ç½®
mcp:
  servers:
    mcp-mirothinker:
      description: "MiroThinker æ·±åº¦æ¨ç†æœåŠ¡"
      enabled: true
      endpoint: "http://localhost:3001/mcp"
      capabilities:
        - "deep_reasoning"
        - "document_analysis"
        - "pure_rag"
        - "thought_chain"

# ç»Ÿä¸€è§¦å‘å™¨
unified_triggers:
  skill_triggers:
    # MiroThinker æ ¸å¿ƒæŠ€èƒ½
    - skill: "mcp-mirothinker/deep_reasoning"
      priority: "critical"
      category: "reasoning"

      triggers:
        - type: "command"
          patterns: ["/miro", "/æ·±åº¦æ¨ç†"]
          weight: 10.0

        - type: "semantic"
          intent: "deep_reasoning"
          examples:
            - "æ·±åº¦åˆ†æè¿™ä¸ªé—®é¢˜"
            - "ç”¨æ€ç»´é“¾æ¨ç†"
          weight: 8.0

    - skill: "mcp-mirothinker/analyze_document"
      priority: "high"
      category: "analysis"

      triggers:
        - type: "semantic"
          intent: "document_analysis"
          examples:
            - "æ·±åº¦åˆ†æè¿™ç¯‡è®ºæ–‡"
            - "æå–æ–‡æ¡£æ ¸å¿ƒå†…å®¹"
          weight: 8.0

# è¿›åŒ–åè®®
evolution_protocol:
  self_learning:
    usage_tracking:
      enabled: true

    # MiroThinker ç‰¹å®šå­¦ä¹ 
    miro_learning:
      track_reasoning_quality: true
      optimize_depth: true
      learn_from_feedback: true

# Skills-n8n åä½œ
skills_n8n_collaboration:
  enabled: true

  # MiroThinker åä½œæ¨¡å¼
  miro_collaboration:
    mode: "hybrid"

    patterns:
      # MiroThinker æ¨ç† + n8n è‡ªåŠ¨åŒ–
      - name: "reasoning_and_automation"
        description: "MiroThinker æ·±åº¦æ¨ç†ï¼Œn8n è‡ªåŠ¨æ‰§è¡Œ"
        example:
          - MiroThinker: åˆ†æéœ€æ±‚
          - n8n: è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡

      # n8n æ”¶é›† + MiroThinker åˆ†æ
      - name: "collection_and_analysis"
        description: "n8n æ”¶é›†æ•°æ®ï¼ŒMiroThinker æ·±åº¦åˆ†æ"
        example:
          - n8n: æ”¶é›†æ–‡æ¡£
          - MiroThinker: æ·±åº¦åˆ†æ

# åä½œæ¨¡æ¿
templates:
  miro_research_workflow:
    name: "MiroThinker ç ”ç©¶å·¥ä½œæµ"
    description: "ä½¿ç”¨ MiroThinker è¿›è¡Œæ·±åº¦ç ”ç©¶"

    steps:
      - step: 1
        tool: "mcp-mirothinker/analyze_document"
        task: "æ·±åº¦åˆ†ææ–‡çŒ®"

      - step: 2
        skill: "literature-review"
        task: "ç”Ÿæˆç»¼è¿°"

      - step: 3
        skill: "scientific-writing"
        task: "æ’°å†™è®ºæ–‡"
```

---

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£… MiroThinker

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/MiroMindAI/MiroThinker.git
cd MiroThinker

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨ MCP æœåŠ¡å™¨
python mcp_mirothinker_server.py
```

### 2. é…ç½® MindSymphony

```bash
# å¤åˆ¶é›†æˆé…ç½®
cp mindsymphony-mirothinker.config.yml \
   C:/Users/13466/.claude/mindsymphony-v15.6/mindsymphony.config.yml
```

### 3. æµ‹è¯•é›†æˆ

```bash
# æµ‹è¯•æ·±åº¦æ¨ç†
/miro æ·±åº¦åˆ†æ: æœºå™¨å­¦ä¹ æ¨¡å‹çš„å¯è§£é‡Šæ€§

# æµ‹è¯•æ–‡æ¡£åˆ†æ
/æ–‡æ¡£åˆ†æ æ·±åº¦åˆ†æè¿™ç¯‡è®ºæ–‡çš„ä»·å€¼

# æµ‹è¯•è¯­ä¹‰è§¦å‘
"ç”¨æ€ç»´é“¾æ¨ç†å¦‚ä½•æé«˜æ¨¡å‹æ³›åŒ–èƒ½åŠ›"
```

---

## æ€»ç»“

### ä¸‰ç§é›†æˆæ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | æ¨èåº¦ |
|------|------|------|--------|
| **MCP æœåŠ¡å™¨** | æ ‡å‡†åŒ–ã€å¯æ‰©å±•ã€åŒå‘é€šä¿¡ | éœ€è¦éƒ¨ç½²æœåŠ¡ | â­â­â­â­â­ |
| **Skill å°è£…** | ç»Ÿä¸€æ¥å£ã€æ˜“äºä½¿ç”¨ | åŠŸèƒ½å—é™ | â­â­â­â­ |
| **ç›´æ¥ API** | ç®€å•ç›´æ¥ | ç¼ºå°‘æ ‡å‡†åŒ– | â­â­â­ |

### æ¨èæ¶æ„

**ç”Ÿäº§ç¯å¢ƒ**: MCP æœåŠ¡å™¨ + Skill å°è£…
**å¼€å‘æµ‹è¯•**: ç›´æ¥ API è°ƒç”¨
**æ··åˆæ¨¡å¼**: ä¸‰ç§æ–¹æ¡ˆç»“åˆä½¿ç”¨

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-01-11
