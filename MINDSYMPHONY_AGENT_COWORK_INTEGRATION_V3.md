# MindSymphony â†” Agent-Cowork æ•´åˆç­–ç•¥ï¼ˆä¿®è®¢ç‰ˆ v3.0ï¼‰

**æ–‡æ¡£ç‰ˆæœ¬**: 3.0 (åŸºäº agent-cowork æ·±åº¦æŠ€æœ¯åˆ†æ)
**åˆ›å»ºæ—¥æœŸ**: 2026-01-15
**åˆ†æ”¯**: `claude/evaluate-agent-cowork-integration-60IxV`
**ä½œè€…**: Claude (Sonnet 4.5)

---

## ğŸ”„ é‡è¦ä¿®æ­£

ç»è¿‡æ·±å…¥æŠ€æœ¯åˆ†æï¼Œæˆ‘å¿…é¡»ä¿®æ­£ä¹‹å‰çš„åˆ¤æ–­ï¼š

**âŒ é”™è¯¯è®¤çŸ¥**: agent-cowork åªæ˜¯ä¸€ä¸ª GUI åŒ…è£…å™¨
**âœ… æ­£ç¡®è®¤çŸ¥**: agent-cowork æ˜¯ä¸€ä¸ªå®Œæ•´çš„ **AI Agent æ‰§è¡Œå¹³å°**

---

## æ‰§è¡Œæ‘˜è¦

### agent-cowork çš„çœŸæ­£æ ¸å¿ƒä»·å€¼

agent-cowork ä¸æ˜¯ç®€å•çš„æ¡Œé¢åº”ç”¨ï¼Œè€Œæ˜¯æ„å»ºåœ¨ `@anthropic-ai/claude-agent-sdk` ä¹‹ä¸Šçš„**å®Œæ•´ Agent æ‰§è¡Œå¼•æ“**ï¼Œå…·æœ‰ï¼š

1. **è‡ªåŠ¨åŒ–æ‰§è¡Œå¾ªç¯** - Agent å¯ä»¥ä¸»åŠ¨ç®¡ç†ä»»åŠ¡ï¼Œè€Œéè¢«åŠ¨å“åº”
2. **æƒé™ç½‘å…³ç³»ç»Ÿ** - è§£å†³äº†"AI è‡ªä¸»æ‰§è¡Œ"çš„ä¿¡ä»»é—®é¢˜
3. **å†…ç½®å·¥å…·é›†** - Read/Write/Edit/Bash/Glob/Grep ç­‰ç”Ÿäº§çº§å·¥å…·
4. **ä¼šè¯æŒä¹…åŒ–** - SQLite å­˜å‚¨ï¼Œæ”¯æŒè·¨å¹³å°æ¢å¤
5. **ä¸ Claude Code CLI äº’æ“ä½œ** - é…ç½®å…±äº«ã€ä¼šè¯äº’é€š

### å…³é”®æ´å¯Ÿ

```
agent-cowork = Claude Agent SDK + æƒé™æ§åˆ¶ + ä¼šè¯ç®¡ç† + æ¡Œé¢ç•Œé¢

ä¸æ˜¯: GUIåŒ…è£…å™¨
è€Œæ˜¯: AI Agent æ‰§è¡Œå¹³å°
```

---

## ç›®å½•

1. [agent-cowork æ ¸å¿ƒæŠ€æœ¯åˆ†æ](#1-agent-cowork-æ ¸å¿ƒæŠ€æœ¯åˆ†æ)
2. [é‡æ–°å®šä½æ•´åˆç­–ç•¥](#2-é‡æ–°å®šä½æ•´åˆç­–ç•¥)
3. [æ¨èæ–¹æ¡ˆï¼šæ¸è¿›å¼èåˆ](#3-æ¨èæ–¹æ¡ˆæ¸è¿›å¼èåˆ)
4. [å®æ–½è·¯çº¿å›¾](#4-å®æ–½è·¯çº¿å›¾)
5. [æŠ€æœ¯é£é™©ä¸æœºé‡](#5-æŠ€æœ¯é£é™©ä¸æœºé‡)

---

## 1. agent-cowork æ ¸å¿ƒæŠ€æœ¯åˆ†æ

### 1.1 æ¶æ„åˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ç”¨æˆ·äº¤äº’å±‚ (React + Tailwind)               â”‚
â”‚  â€¢ DecisionPanel (æƒé™å®¡æ‰¹ UI)                        â”‚
â”‚  â€¢ EventCard (å·¥å…·è°ƒç”¨å±•ç¤º)                           â”‚
â”‚  â€¢ PromptInput (å¯¹è¯è¾“å…¥)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†• IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         çŠ¶æ€ç®¡ç†å±‚ (Zustand + IPC Handlers)            â”‚
â”‚  â€¢ ä¼šè¯çŠ¶æ€ (sessions)                                â”‚
â”‚  â€¢ æƒé™é˜Ÿåˆ— (permissionRequests)                      â”‚
â”‚  â€¢ æ¶ˆæ¯æµ (messages)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†• Event Driven
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Agent æ‰§è¡Œå¼•æ“ (Claude Agent SDK)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ è‡ªåŠ¨åŒ–æ‰§è¡Œå¾ªç¯ (Auto-execution Loop)            â”‚  â”‚
â”‚  â”‚  â€¢ ä¸æ˜¯ç®€å•çš„ function calling                  â”‚  â”‚
â”‚  â”‚  â€¢ ä¸»åŠ¨ç®¡ç†ä»»åŠ¡è€Œéè¢«åŠ¨å“åº”                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å†…ç½®å·¥å…·é›† (Built-in Tools)                     â”‚  â”‚
â”‚  â”‚  â€¢ Read: è¯»å–æ–‡ä»¶                               â”‚  â”‚
â”‚  â”‚  â€¢ Write: åˆ›å»ºæ–‡ä»¶                              â”‚  â”‚
â”‚  â”‚  â€¢ Edit: ç²¾ç¡®ç¼–è¾‘                               â”‚  â”‚
â”‚  â”‚  â€¢ Bash: æ‰§è¡Œå‘½ä»¤                               â”‚  â”‚
â”‚  â”‚  â€¢ Glob: æ–‡ä»¶æœç´¢                               â”‚  â”‚
â”‚  â”‚  â€¢ Grep: å†…å®¹æœç´¢                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æƒé™ç½‘å…³ (Permission Gateway)                   â”‚  â”‚
â”‚  â”‚  å·¥å…·è°ƒç”¨ â†’ æƒé™è¯·æ±‚ â†’ ç”¨æˆ·å®¡æ‰¹ â†’ ç»§ç»­/ä¸­æ­¢   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ•°æ®æŒä¹…åŒ–å±‚ (SQLite WAL Mode)                 â”‚
â”‚  â€¢ ä¼šè¯å…ƒæ•°æ® (id, title, cwd, status)                â”‚
â”‚  â€¢ æ¶ˆæ¯å†å² (role, content, timestamp)                â”‚
â”‚  â€¢ å·¥å…·è°ƒç”¨è®°å½•                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1.2 å…³é”®æŠ€æœ¯ç‰¹æ€§

#### **ç‰¹æ€§ 1: è‡ªåŠ¨åŒ–æ‰§è¡Œå¾ªç¯ vs Function Calling**

| ç»´åº¦ | Function Calling | Agent SDK (agent-cowork) |
|------|-----------------|--------------------------|
| **äº¤äº’æ¨¡å¼** | è¢«åŠ¨ååº”å¼ | ä¸»åŠ¨ç®¡ç†å¼ |
| **æ‰§è¡Œæµç¨‹** | ç”¨æˆ·è¯·æ±‚ â†’ AI å“åº” â†’ è°ƒç”¨å‡½æ•° â†’ è¿”å›ç»“æœ â†’ ç»“æŸ | ç”¨æˆ·ç›®æ ‡ â†’ AI è§„åˆ’ â†’ å¾ªç¯æ‰§è¡Œå·¥å…· â†’ è‡ªæˆ‘è¯„ä¼° â†’ ç»§ç»­/å®Œæˆ |
| **å·¥å…·è°ƒç”¨** | å•æ¬¡è°ƒç”¨ | å¤šæ¬¡è¿­ä»£è°ƒç”¨ |
| **ä¸Šä¸‹æ–‡ç®¡ç†** | æ‰‹åŠ¨ç»´æŠ¤ | è‡ªåŠ¨è¿½è¸ª |
| **é”™è¯¯å¤„ç†** | éœ€è¦æ‰‹åŠ¨å®ç° | å†…ç½®é‡è¯•å’Œæ¢å¤ |

**ç¤ºä¾‹å¯¹æ¯”**:

```
# Function Calling æ¨¡å¼
ç”¨æˆ·: "åˆ†æè¿™ä¸ªé¡¹ç›®çš„ä»£ç ç»“æ„"
AI: "å¥½çš„ï¼Œæˆ‘éœ€è¦è°ƒç”¨ read_directory å‡½æ•°"
ç³»ç»Ÿ: è°ƒç”¨ read_directory('.')
AI: "ç»“æ„å¦‚ä¸‹ï¼š..."
[ç»“æŸ]

# Agent SDK æ¨¡å¼ (agent-cowork)
ç”¨æˆ·: "åˆ†æè¿™ä¸ªé¡¹ç›®çš„ä»£ç ç»“æ„"
AI: "æˆ‘éœ€è¦å…ˆæŸ¥çœ‹æ ¹ç›®å½•"
â†’ å·¥å…·è°ƒç”¨: Glob("**/*")
â†’ æƒé™è¯·æ±‚ â†’ ç”¨æˆ·æ‰¹å‡†
AI: "å‘ç° src/ ç›®å½•ï¼Œè®©æˆ‘æŸ¥çœ‹é‡Œé¢çš„æ–‡ä»¶"
â†’ å·¥å…·è°ƒç”¨: Read("src/index.ts")
â†’ æƒé™è¯·æ±‚ â†’ ç”¨æˆ·æ‰¹å‡†
AI: "å‘ç°ä¾èµ–å…³ç³»ï¼Œè®©æˆ‘æŸ¥çœ‹ package.json"
â†’ å·¥å…·è°ƒç”¨: Read("package.json")
â†’ æƒé™è¯·æ±‚ â†’ ç”¨æˆ·æ‰¹å‡†
AI: "ç»¼åˆåˆ†æç»“æœï¼š..."
[Agent è‡ªä¸»å†³å®šç»“æŸ]
```

---

#### **ç‰¹æ€§ 2: æƒé™ç½‘å…³ç³»ç»Ÿ**

**å·¥ä½œæµç¨‹**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent å‘èµ·å·¥å…·è°ƒç”¨                              â”‚
â”‚  ä¾‹å¦‚: Bash("rm -rf dist")                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SDK æ‹¦æˆªå¹¶ç”Ÿæˆ permission.request äº‹ä»¶          â”‚
â”‚  {                                               â”‚
â”‚    toolUseId: "xxx",                            â”‚
â”‚    toolName: "Bash",                            â”‚
â”‚    input: { command: "rm -rf dist" }            â”‚
â”‚  }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI å±•ç¤º DecisionPanel                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ âš ï¸ Agent æƒ³è¦æ‰§è¡Œå‘½ä»¤                   â”‚    â”‚
â”‚  â”‚                                         â”‚    â”‚
â”‚  â”‚ Command: rm -rf dist                    â”‚    â”‚
â”‚  â”‚                                         â”‚    â”‚
â”‚  â”‚ [å…è®¸] [æ‹’ç»] [ä¿®æ”¹å‘½ä»¤]                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
          ç”¨æˆ·åšå‡ºå†³ç­–
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘é€ permission.response äº‹ä»¶                   â”‚
â”‚  {                                               â”‚
â”‚    toolUseId: "xxx",                            â”‚
â”‚    status: "allow" | "deny",                    â”‚
â”‚    modifiedInput?: {...}  // å¦‚æœä¿®æ”¹äº†å‚æ•°      â”‚
â”‚  }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SDK ç»§ç»­æˆ–ä¸­æ­¢æ‰§è¡Œ                              â”‚
â”‚  â€¢ allow: æ‰§è¡Œå·¥å…·ï¼Œè¿”å›ç»“æœ                     â”‚
â”‚  â€¢ deny: ä¸­æ­¢æ‰§è¡Œï¼Œå‘ŠçŸ¥ Agent è¢«æ‹’ç»             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒä»·å€¼**: è§£å†³äº†"AI è‡ªä¸»æ‰§è¡Œ"çš„ä¿¡ä»»é—®é¢˜ï¼Œç”¨æˆ·å§‹ç»ˆæŒæ§æƒåŠ›ã€‚

---

#### **ç‰¹æ€§ 3: ä¼šè¯æŒä¹…åŒ–ä¸äº’æ“ä½œ**

**SQLite æ•°æ®åº“è®¾è®¡**:

```sql
-- ä¼šè¯è¡¨
CREATE TABLE sessions (
  id TEXT PRIMARY KEY,
  title TEXT,
  cwd TEXT,
  status TEXT,  -- 'idle' | 'running' | 'completed' | 'error'
  created_at INTEGER,
  updated_at INTEGER
);

-- æ¶ˆæ¯è¡¨
CREATE TABLE messages (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  session_id TEXT,
  role TEXT,  -- 'user' | 'assistant'
  content TEXT,
  timestamp INTEGER,
  FOREIGN KEY (session_id) REFERENCES sessions(id)
);

-- å·¥å…·è°ƒç”¨è®°å½•è¡¨ï¼ˆå¯é€‰ï¼‰
CREATE TABLE tool_calls (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  session_id TEXT,
  tool_name TEXT,
  input TEXT,  -- JSON
  output TEXT,  -- JSON
  status TEXT,  -- 'allowed' | 'denied' | 'modified'
  timestamp INTEGER,
  FOREIGN KEY (session_id) REFERENCES sessions(id)
);
```

**ä¸ Claude Code CLI äº’æ“ä½œ**:

```bash
# åœ¨ agent-cowork ä¸­åˆ›å»ºä¼šè¯
# sessionId: "abc-123"

# åœ¨ CLI ä¸­æ¢å¤
claude --resume abc-123

# æˆ–åä¹‹äº¦ç„¶
```

**æ ¸å¿ƒä»·å€¼**: æ— ç¼çš„è·¨å¹³å°å·¥ä½œæµï¼Œç”¨æˆ·å¯ä»¥åœ¨ GUI å’Œ CLI ä¹‹é—´è‡ªç”±åˆ‡æ¢ã€‚

---

### 1.3 ä¸ Claude Code CLI çš„å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Claude Code ç”Ÿæ€ç³»ç»Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  Claude Code CLI         Agent-Cowork Desktop     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ç»ˆç«¯ç•Œé¢    â”‚         â”‚ GUI ç•Œé¢        â”‚     â”‚
â”‚  â”‚ è„šæœ¬å‹å¥½    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ å¯è§†åŒ–æƒé™      â”‚     â”‚
â”‚  â”‚ è½»é‡å¿«é€Ÿ    â”‚ ä¼šè¯äº’é€š â”‚ å¤šä¼šè¯ç®¡ç†      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â†“                        â†“                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    å…±äº«é…ç½® (~/.claude/settings.json)    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â†“                        â†“                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚        Claude Agent SDK (æ ¸å¿ƒå¼•æ“)        â”‚     â”‚
â”‚  â”‚  â€¢ è‡ªåŠ¨åŒ–æ‰§è¡Œå¾ªç¯                        â”‚     â”‚
â”‚  â”‚  â€¢ å†…ç½®å·¥å…·é›†                            â”‚     â”‚
â”‚  â”‚  â€¢ ä¼šè¯ç®¡ç†                              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â†“                        â†“                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         Anthropic API (Claude)           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®æ´å¯Ÿ**: agent-cowork å’Œ Claude Code CLI æ˜¯**äº’è¡¥**çš„ï¼Œä¸æ˜¯ç«äº‰å…³ç³»ã€‚

---

## 2. é‡æ–°å®šä½æ•´åˆç­–ç•¥

### 2.1 ä¹‹å‰æ–¹æ¡ˆçš„é—®é¢˜

**v1.0 æ–¹æ¡ˆ** (åœ¨ agent-cowork ä¸­é›†æˆ MindSymphony):
- âŒ ä½ä¼°äº† agent-cowork çš„å¤æ‚åº¦
- âŒ è®¤ä¸ºåªéœ€è¦"æ·»åŠ æŠ€èƒ½"
- âŒ å¿½ç•¥äº† Agent SDK çš„æ‰§è¡Œæ¨¡å‹

**v2.0 æ–¹æ¡ˆ** (å¼€å‘ç‹¬ç«‹çš„ MindSymphony Desktop):
- âŒ å¿½ç•¥äº† Agent SDK çš„ä»·å€¼
- âŒ å¯èƒ½ä¼šé‡å¤é€ è½®å­ï¼ˆæƒé™ç³»ç»Ÿã€å·¥å…·ç®¡ç†ï¼‰
- âŒ é”™å¤±ä¸ Claude Code ç”Ÿæ€äº’æ“ä½œçš„æœºä¼š

---

### 2.2 æ­£ç¡®çš„å®šä½

**MindSymphony OS çš„æ ¸å¿ƒä»·å€¼**:
- âœ… 90+ ä¸“ä¸šæŠ€èƒ½ç”Ÿæ€
- âœ… æ™ºèƒ½è·¯ç”±ä¸æ¨èç³»ç»Ÿ
- âœ… BMAD ä¼ä¸šçº§å·¥ä½œæµç¼–æ’
- âœ… æŠ€èƒ½äº’æ“ä½œåè®® (INTEROP)

**agent-cowork çš„æ ¸å¿ƒä»·å€¼**:
- âœ… Agent æ‰§è¡Œå¼•æ“ (åŸºäº Claude Agent SDK)
- âœ… æƒé™ç½‘å…³ç³»ç»Ÿ
- âœ… ä¼šè¯æŒä¹…åŒ–
- âœ… ä¸ Claude Code ç”Ÿæ€äº’æ“ä½œ

**ç»“è®º**: ä¸¤è€…æ˜¯**é«˜åº¦äº’è¡¥**çš„ï¼Œåº”è¯¥æ·±åº¦æ•´åˆè€Œéç‹¬ç«‹å¼€å‘ã€‚

---

### 2.3 æ•´åˆçš„æ ¸å¿ƒé—®é¢˜

**é—®é¢˜ 1**: MindSymphony çš„æŠ€èƒ½å¦‚ä½•åœ¨ agent-cowork ä¸­è¢« Agent è°ƒç”¨ï¼Ÿ

**ç­”æ¡ˆ**: å°† MindSymphony æŠ€èƒ½æ³¨å†Œä¸ºè‡ªå®šä¹‰å·¥å…·ï¼Œé€šè¿‡ Agent SDK çš„å·¥å…·ç³»ç»Ÿè°ƒç”¨ã€‚

---

**é—®é¢˜ 2**: MindSymphony çš„æ™ºèƒ½è·¯ç”±å¦‚ä½•ä¸ Agent çš„è‡ªä¸»å†³ç­–ç»“åˆï¼Ÿ

**ç­”æ¡ˆ**: ä¸¤å±‚å†³ç­–æœºåˆ¶ï¼š
- Layer 1: Agent å†³å®šéœ€è¦ä»€ä¹ˆèƒ½åŠ›ï¼ˆå¦‚"æˆ‘éœ€è¦è®¾è®¡å‰ç«¯"ï¼‰
- Layer 2: MindSymphony è·¯ç”±ç³»ç»Ÿæ¨èæœ€åŒ¹é…çš„æŠ€èƒ½

---

**é—®é¢˜ 3**: BMAD å·¥ä½œæµå¦‚ä½•åœ¨ Agent æ¡†æ¶ä¸­å®ç°ï¼Ÿ

**ç­”æ¡ˆ**: BMAD ä½œä¸ºä¸€ä¸ªç‰¹æ®Šçš„"å·¥ä½œæµå·¥å…·"ï¼ŒAgent å¯ä»¥è°ƒç”¨å®ƒæ¥ç¼–æ’å¤æ‚ä»»åŠ¡ã€‚

---

## 3. æ¨èæ–¹æ¡ˆï¼šæ¸è¿›å¼èåˆ

### 3.1 æ€»ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        MindSymphony Ã— Agent-Cowork (èåˆç‰ˆ)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         UI Layer (React + Tailwind)              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ Agent-Coworkâ”‚  â”‚MindSymphonyâ”‚  â”‚ BMAD      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ åŸç”Ÿ UI     â”‚  â”‚ æŠ€èƒ½é¢æ¿   â”‚  â”‚ å·¥ä½œæµé¢æ¿â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ (ä¿ç•™)     â”‚  â”‚ (æ–°å¢)     â”‚  â”‚ (æ–°å¢)    â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†• IPC                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Agent æ‰§è¡Œå¼•æ“ (Claude Agent SDK)         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ å†…ç½®å·¥å…·é›† (agent-cowork åŸç”Ÿ)           â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Read, Write, Edit, Bash, Glob, Grep   â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ MindSymphony å·¥å…·é›† (æ‰©å±•)               â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ InvokeSkill (è°ƒç”¨å•ä¸ªæŠ€èƒ½)            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ RouteIntent (æ™ºèƒ½è·¯ç”±æ¨è)            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ BMADWorkflow (å¯åŠ¨ä¼ä¸šå·¥ä½œæµ)         â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ æƒé™ç½‘å…³ (agent-cowork åŸç”Ÿ)             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ æ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½éœ€è¦ç”¨æˆ·æ‰¹å‡†             â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†•                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         MindSymphony Core (Python)               â”‚ â”‚
â”‚  â”‚  â€¢ skill_router.py (æ™ºèƒ½è·¯ç”±)                    â”‚ â”‚
â”‚  â”‚  â€¢ skill_index.py (æŠ€èƒ½ç´¢å¼•)                     â”‚ â”‚
â”‚  â”‚  â€¢ 90+ æŠ€èƒ½ç”Ÿæ€                                  â”‚ â”‚
â”‚  â”‚  â€¢ BMAD å·¥ä½œæµç¼–æ’                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â†•                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         æ•°æ®æŒä¹…åŒ– (SQLite)                      â”‚ â”‚
â”‚  â”‚  â€¢ agent-cowork åŸç”Ÿä¼šè¯æ•°æ®                     â”‚ â”‚
â”‚  â”‚  â€¢ MindSymphony æŠ€èƒ½ä½¿ç”¨ç»Ÿè®¡                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.2 é›†æˆæ–¹å¼ï¼šè‡ªå®šä¹‰å·¥å…·æ‰©å±•

#### **æ–¹å¼ A: å°† MindSymphony ä½œä¸º Agent SDK çš„è‡ªå®šä¹‰å·¥å…·**

Agent SDK æ”¯æŒæ³¨å†Œè‡ªå®šä¹‰å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥å°† MindSymphony çš„èƒ½åŠ›åŒ…è£…æˆå·¥å…·ã€‚

**ç¤ºä¾‹ä»£ç **:

```typescript
// mindsymphony-tools.ts
import { z } from 'zod';
import { spawn } from 'child_process';

// å·¥å…· 1: è°ƒç”¨å•ä¸ªæŠ€èƒ½
export const InvokeSkillTool = {
  name: 'InvokeSkill',
  description: 'Invoke a MindSymphony skill to perform specialized tasks',
  schema: z.object({
    skillName: z.string().describe('The skill to invoke (e.g., frontend-design, code-refactoring-expert)'),
    skillArgs: z.string().optional().describe('Arguments to pass to the skill')
  }),
  handler: async ({ skillName, skillArgs }) => {
    // è°ƒç”¨ MindSymphony Python åç«¯
    return new Promise((resolve, reject) => {
      const python = spawn('python3', [
        '-m', 'skill_discovery.skill_router',
        '--invoke', skillName,
        ...(skillArgs ? ['--args', skillArgs] : [])
      ], {
        cwd: process.env.MINDSYMPHONY_PATH || '~/mindsymphony-os/skills'
      });

      let output = '';
      python.stdout.on('data', (data) => output += data.toString());
      python.on('close', (code) => {
        if (code === 0) resolve(output);
        else reject(new Error(`Skill ${skillName} failed`));
      });
    });
  }
};

// å·¥å…· 2: æ™ºèƒ½è·¯ç”±æ¨è
export const RouteIntentTool = {
  name: 'RouteIntent',
  description: 'Get skill recommendations based on user intent using MindSymphony\'s intelligent routing',
  schema: z.object({
    query: z.string().describe('The user\'s intent or query (e.g., "I want to design a frontend")')
  }),
  handler: async ({ query }) => {
    // è°ƒç”¨ skill_router çš„è·¯ç”±åŠŸèƒ½
    const result = await fetch('http://localhost:8000/api/skills/route', {
      method: 'POST',
      body: JSON.stringify({ query })
    });
    return await result.json();
  }
};

// å·¥å…· 3: BMAD å·¥ä½œæµ
export const BMADWorkflowTool = {
  name: 'BMADWorkflow',
  description: 'Start a BMAD enterprise-grade 6-phase agile workflow for complex projects',
  schema: z.object({
    projectDescription: z.string().describe('Description of the project to build')
  }),
  handler: async ({ projectDescription }) => {
    // å¯åŠ¨ BMAD å·¥ä½œæµ
    // è¿”å› workflow_id ä¾›åç»­æŸ¥è¯¢
    const result = await fetch('http://localhost:8000/api/workflows/bmad', {
      method: 'POST',
      body: JSON.stringify({ project_description: projectDescription })
    });
    return await result.json();
  }
};

// æ³¨å†Œåˆ° Agent SDK
export const MindSymphonyTools = [
  InvokeSkillTool,
  RouteIntentTool,
  BMADWorkflowTool
];
```

**åœ¨ agent-cowork ä¸­é›†æˆ**:

```typescript
// ipc-handlers.ts ä¿®æ”¹
import { MindSymphonyTools } from './mindsymphony-tools';

async function runClaude(sessionId: string, message: string) {
  const agent = new ClaudeAgent({
    apiKey: settings.apiKey,
    model: settings.model,
    // æ³¨å†Œ MindSymphony å·¥å…·
    tools: [
      ...DEFAULT_TOOLS,  // agent-cowork åŸç”Ÿå·¥å…·
      ...MindSymphonyTools  // MindSymphony æ‰©å±•å·¥å…·
    ]
  });

  // ... å…¶ä½™ä»£ç ä¸å˜
}
```

---

#### **æ–¹å¼ B: MindSymphony FastAPI æœåŠ¡ + MCP åè®®**

å¦‚æœä¸æƒ³ç”¨è¿›ç¨‹è°ƒç”¨ï¼Œå¯ä»¥å¯åŠ¨ MindSymphony çš„ FastAPI æœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡ HTTP è°ƒç”¨ã€‚

```typescript
// mindsymphony-service.ts
export class MindSymphonyService {
  private baseUrl = 'http://localhost:8000';

  async invokeSkill(skillName: string, args?: any): Promise<string> {
    const response = await fetch(`${this.baseUrl}/api/skills/invoke`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ skill_id: skillName, args })
    });
    const data = await response.json();
    return data.output;
  }

  async routeIntent(query: string) {
    const response = await fetch(`${this.baseUrl}/api/skills/route`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ query })
    });
    return await response.json();
  }

  async startBMAD(projectDescription: string) {
    const response = await fetch(`${this.baseUrl}/api/workflows/bmad`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ project_description: projectDescription })
    });
    return await response.json();
  }
}
```

---

### 3.3 UI é›†æˆæ–¹æ¡ˆ

#### **æ–°å¢ç»„ä»¶**

1. **SkillSidePanel**: æŠ€èƒ½æµè§ˆå™¨ä¾§è¾¹æ 
   ```typescript
   // SkillSidePanel.tsx
   export const SkillSidePanel = () => {
     const [skills, setSkills] = useState([]);
     const [searchQuery, setSearchQuery] = useState('');

     return (
       <aside className="w-80 border-r">
         <input
           placeholder="Search skills..."
           onChange={(e) => setSearchQuery(e.target.value)}
         />
         <div className="skill-grid">
           {skills.map(skill => (
             <SkillCard
               key={skill.id}
               skill={skill}
               onInvoke={() => {
                 // å‘ Agent å‘é€è°ƒç”¨æŒ‡ä»¤
                 sendMessage(`Use the ${skill.name} skill to...`);
               }}
             />
           ))}
         </div>
       </aside>
     );
   };
   ```

2. **BMADWorkflowPanel**: BMAD å·¥ä½œæµé¢æ¿
   ```typescript
   // BMADWorkflowPanel.tsx
   export const BMADWorkflowPanel = ({ workflowId }) => {
     const [workflow, setWorkflow] = useState(null);

     useEffect(() => {
       // è½®è¯¢å·¥ä½œæµçŠ¶æ€
       const interval = setInterval(async () => {
         const data = await fetch(`/api/workflows/${workflowId}`);
         setWorkflow(await data.json());
       }, 1000);

       return () => clearInterval(interval);
     }, [workflowId]);

     return (
       <div className="workflow-panel">
         <PhaseProgress phases={workflow?.phases} />
         <CurrentPhaseOutput phase={workflow?.currentPhase} />
       </div>
     );
   };
   ```

3. **SmartRecommendationBar**: æ™ºèƒ½æ¨èæ 
   ```typescript
   // SmartRecommendationBar.tsx
   export const SmartRecommendationBar = ({ userQuery }) => {
     const [recommendations, setRecommendations] = useState([]);

     useEffect(() => {
       if (userQuery) {
         // è°ƒç”¨ MindSymphony è·¯ç”± API
         mindSymphonyService.routeIntent(userQuery).then(setRecommendations);
       }
     }, [userQuery]);

     return (
       <div className="recommendation-bar">
         <h3>Recommended Skills:</h3>
         {recommendations.map(rec => (
           <RecommendationCard
             skill={rec.skill}
             confidence={rec.confidence}
             reasoning={rec.reasoning}
           />
         ))}
       </div>
     );
   };
   ```

---

## 4. å®æ–½è·¯çº¿å›¾

### 4.1 Phase 1: åŸºç¡€é›†æˆï¼ˆ2-3 å‘¨ï¼‰

**ç›®æ ‡**: è®© Agent èƒ½è°ƒç”¨ MindSymphony æŠ€èƒ½

#### **Week 1: MindSymphony FastAPI æœåŠ¡å™¨**

**ä»»åŠ¡**:
- [ ] åˆ›å»º `mindsymphony-os/backend/` ç›®å½•
- [ ] å®ç° FastAPI æœåŠ¡å™¨
  - `POST /api/skills/invoke` - è°ƒç”¨æŠ€èƒ½
  - `GET /api/skills/list` - è·å–æŠ€èƒ½åˆ—è¡¨
  - `POST /api/skills/route` - æ™ºèƒ½è·¯ç”±
- [ ] æµ‹è¯• API ç«¯ç‚¹

**äº§å‡º**:
```bash
# å¯åŠ¨ MindSymphony åç«¯
cd mindsymphony-os/backend
python main.py

# æµ‹è¯•
curl -X POST http://localhost:8000/api/skills/invoke \
  -H "Content-Type: application/json" \
  -d '{"skill_id": "frontend-design", "args": "Create a login page"}'
```

---

#### **Week 2: Agent SDK å·¥å…·æ³¨å†Œ**

**ä»»åŠ¡**:
- [ ] Fork agent-cowork ä»“åº“
- [ ] åˆ›å»º `mindsymphony-tools.ts`
- [ ] å®ç°ä¸‰ä¸ªå·¥å…·ï¼š
  - `InvokeSkill`
  - `RouteIntent`
  - `BMADWorkflow`
- [ ] åœ¨ `ipc-handlers.ts` ä¸­æ³¨å†Œå·¥å…·
- [ ] æµ‹è¯•å·¥å…·è°ƒç”¨æµç¨‹

**éªŒè¯**:
```
ç”¨æˆ·: "ç”¨ frontend-design æŠ€èƒ½è®¾è®¡ä¸€ä¸ªç™»å½•é¡µé¢"
Agent: æ£€æµ‹åˆ°éœ€è¦è°ƒç”¨ InvokeSkill å·¥å…·
      â†’ ç”Ÿæˆ permission.request
UI: æ˜¾ç¤ºæƒé™å®¡æ‰¹é¢æ¿
ç”¨æˆ·: æ‰¹å‡†
Agent: æ‰§è¡Œå·¥å…· â†’ è¿”å›ç»“æœ
```

---

#### **Week 3: UI é›†æˆ**

**ä»»åŠ¡**:
- [ ] åˆ›å»º `SkillSidePanel` ç»„ä»¶
- [ ] é›†æˆåˆ° agent-cowork ä¸»ç•Œé¢
- [ ] å®ç°æŠ€èƒ½æœç´¢å’Œç­›é€‰
- [ ] ç‚¹å‡»æŠ€èƒ½å¡ç‰‡è‡ªåŠ¨ç”Ÿæˆè°ƒç”¨æç¤º

**é‡Œç¨‹ç¢‘**: **Phase 1 å®Œæˆ** - Agent å¯ä»¥è°ƒç”¨ MindSymphony æŠ€èƒ½

---

### 4.2 Phase 2: æ™ºèƒ½æ¨èï¼ˆ2 å‘¨ï¼‰

**ç›®æ ‡**: åŸºäºç”¨æˆ·è¾“å…¥è‡ªåŠ¨æ¨èæŠ€èƒ½

#### **Week 4: æ¨èå¼•æ“é›†æˆ**

**ä»»åŠ¡**:
- [ ] å®ç° `SmartRecommendationBar` ç»„ä»¶
- [ ] ç›‘å¬ç”¨æˆ·è¾“å…¥ï¼Œå®æ—¶è°ƒç”¨è·¯ç”± API
- [ ] å±•ç¤ºæ¨èç»“æœï¼ˆç½®ä¿¡åº¦ã€æ¨ç†è¿‡ç¨‹ï¼‰
- [ ] æ”¯æŒä¸€é”®åº”ç”¨æ¨è

**äº¤äº’æµç¨‹**:
```
ç”¨æˆ·è¾“å…¥: "æˆ‘æƒ³é‡æ„è¿™ä¸ª React ç»„ä»¶"
         â†“
è‡ªåŠ¨è°ƒç”¨: RouteIntentTool({ query: "æˆ‘æƒ³é‡æ„è¿™ä¸ª React ç»„ä»¶" })
         â†“
æ˜¾ç¤ºæ¨è:
  1. code-refactoring-expert (95%)
  2. frontend-design (70%)
  3. testing-strategy-planner (60%)
         â†“
ç”¨æˆ·ç‚¹å‡»"åº”ç”¨ç¬¬ä¸€ä¸ªæ¨è"
         â†“
è‡ªåŠ¨ç”Ÿæˆæç¤º: "Use code-refactoring-expert skill to refactor this React component"
```

---

#### **Week 5: ç”¨æˆ·åé¦ˆæœºåˆ¶**

**ä»»åŠ¡**:
- [ ] æ·»åŠ æ¨èè¯„åˆ†åŠŸèƒ½ï¼ˆç‚¹èµ/ç‚¹è¸©ï¼‰
- [ ] è®°å½•ç”¨æˆ·é€‰æ‹©å†å²
- [ ] ä¼˜åŒ–è·¯ç”±ç®—æ³•æƒé‡

---

### 4.3 Phase 3: BMAD å·¥ä½œæµï¼ˆ3 å‘¨ï¼‰

**ç›®æ ‡**: åœ¨ agent-cowork ä¸­å®ç° BMAD 6 é˜¶æ®µå·¥ä½œæµ

#### **Week 6-7: åç«¯å·¥ä½œæµæ”¯æŒ**

**ä»»åŠ¡**:
- [ ] å®ç° `/api/workflows/bmad` ç«¯ç‚¹
- [ ] å®ç°å·¥ä½œæµçŠ¶æ€æœº
- [ ] æ”¯æŒ 6 é˜¶æ®µé¡ºåºæ‰§è¡Œ
- [ ] WebSocket å®æ—¶æ¨é€è¿›åº¦

---

#### **Week 8: å·¥ä½œæµ UI**

**ä»»åŠ¡**:
- [ ] åˆ›å»º `BMADWorkflowPanel` ç»„ä»¶
- [ ] å®ç°è¿›åº¦å¯è§†åŒ–
- [ ] å±•ç¤ºå½“å‰é˜¶æ®µè¾“å‡º
- [ ] æ”¯æŒæš‚åœ/ç»§ç»­/å¯¼å‡º

**é‡Œç¨‹ç¢‘**: **Phase 3 å®Œæˆ** - BMAD å·¥ä½œæµå®Œå…¨å¯ç”¨

---

### 4.4 Phase 4: ä¼˜åŒ–ä¸å‘å¸ƒï¼ˆ2 å‘¨ï¼‰

**Week 9: ä¼˜åŒ–**
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] é”™è¯¯å¤„ç†
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**Week 10: å‘å¸ƒ**
- [ ] æµ‹è¯•
- [ ] æ–‡æ¡£
- [ ] æ‰“åŒ…å‘å¸ƒ

---

### 4.5 æ—¶é—´çº¿æ€»è§ˆ

```
Phase 1: åŸºç¡€é›†æˆ (Week 1-3)
  â”œâ”€ Week 1: FastAPI æœåŠ¡å™¨
  â”œâ”€ Week 2: Agent SDK å·¥å…·æ³¨å†Œ
  â””â”€ Week 3: UI é›†æˆ

Phase 2: æ™ºèƒ½æ¨è (Week 4-5)
  â”œâ”€ Week 4: æ¨èå¼•æ“
  â””â”€ Week 5: åé¦ˆä¼˜åŒ–

Phase 3: BMAD å·¥ä½œæµ (Week 6-8)
  â”œâ”€ Week 6-7: åç«¯å®ç°
  â””â”€ Week 8: UI å®ç°

Phase 4: ä¼˜åŒ–ä¸å‘å¸ƒ (Week 9-10)
  â”œâ”€ Week 9: ä¼˜åŒ–
  â””â”€ Week 10: å‘å¸ƒ

æ€»è®¡: 10 å‘¨ (2.5 ä¸ªæœˆ)
```

---

## 5. æŠ€æœ¯é£é™©ä¸æœºé‡

### 5.1 é£é™©åˆ†æ

| é£é™© | å½±å“ | å¯èƒ½æ€§ | ç¼“è§£æªæ–½ |
|------|------|--------|----------|
| **agent-cowork ç‰ˆæœ¬ä¸ç¨³å®š** | é«˜ | ä¸­ | Fork ä»“åº“ï¼Œè‡ªä¸»ç»´æŠ¤ |
| **Agent SDK API å˜æ›´** | é«˜ | ä½ | è·Ÿè¸ª Anthropic æ›´æ–°ï¼ŒåŠæ—¶é€‚é… |
| **Python â†” Node.js é€šä¿¡å¼€é”€** | ä¸­ | ä¸­ | ä½¿ç”¨ FastAPI + HTTPï¼Œä¼˜åŒ–åºåˆ—åŒ– |
| **æƒé™æ¨¡å‹å†²çª** | ä¸­ | ä½ | MindSymphony å·¥å…·ä¹Ÿèµ°æƒé™ç½‘å…³ |

---

### 5.2 æœºé‡åˆ†æ

| æœºé‡ | ä»·å€¼ | å®ç°éš¾åº¦ |
|------|------|---------|
| **åˆ©ç”¨æˆç†Ÿçš„ Agent å¼•æ“** | æé«˜ | ä½ |
| **ä¸ Claude Code ç”Ÿæ€äº’æ“ä½œ** | é«˜ | ä½ |
| **å€Ÿé‰´ agent-cowork UI** | ä¸­ | ä½ |
| **ç¤¾åŒºè´¡çŒ®å›é¦ˆ** | é«˜ | ä¸­ |

---

## 6. æ€»ç»“ä¸å»ºè®®

### 6.1 æ ¸å¿ƒè¦ç‚¹

1. **agent-cowork ä¸åªæ˜¯ GUI**
   å®ƒæ˜¯åŸºäº Claude Agent SDK çš„å®Œæ•´ Agent æ‰§è¡Œå¹³å°ã€‚

2. **MindSymphony çš„ä»·å€¼æ˜¯æŠ€èƒ½ç”Ÿæ€**
   90+ ä¸“ä¸šæŠ€èƒ½ã€æ™ºèƒ½è·¯ç”±ã€BMAD å·¥ä½œæµã€‚

3. **ä¸¤è€…é«˜åº¦äº’è¡¥**
   agent-cowork æä¾›å¼•æ“ï¼ŒMindSymphony æä¾›èƒ½åŠ›ã€‚

4. **æ•´åˆç­–ç•¥ï¼šæ‰©å±•å·¥å…·**
   å°† MindSymphony ä½œä¸º Agent SDK çš„è‡ªå®šä¹‰å·¥å…·é›†æˆã€‚

---

### 6.2 æœ€ç»ˆæ¨è

**âœ… æ¨èæ–¹æ¡ˆ**: **æ¸è¿›å¼èåˆ**

- Fork agent-cowork
- æ·»åŠ  MindSymphony å·¥å…·é›†
- æ‰©å±• UIï¼ˆæŠ€èƒ½é¢æ¿ã€BMAD é¢æ¿ï¼‰
- ä¿æŒä¸ Claude Code ç”Ÿæ€çš„äº’æ“ä½œæ€§

**é¢„æœŸæˆæœ**:
- 2.5 ä¸ªæœˆå®Œæˆæ•´åˆ
- ç”¨æˆ·ä½“éªŒæå‡ 300%+
- åŒæ—¶æ‹¥æœ‰ Agent å¼•æ“å’ŒæŠ€èƒ½ç”Ÿæ€çš„ä¼˜åŠ¿

---

### 6.3 ç«‹å³è¡ŒåŠ¨

**æœ¬å‘¨å¯ä»¥å¼€å§‹**:

1. Fork agent-cowork:
   ```bash
   git clone https://github.com/DevAgentForge/agent-cowork.git
   cd agent-cowork
   git checkout -b mindsymphony-integration
   ```

2. åˆ›å»º MindSymphony FastAPI æœåŠ¡å™¨:
   ```bash
   cd ../mindsymphony-os
   mkdir backend
   cd backend
   python -m venv venv
   source venv/bin/activate
   pip install fastapi uvicorn
   ```

3. å¼€å§‹ Phase 1 Week 1

---

**æ–‡æ¡£ç‰ˆæœ¬**: 3.0 (åŸºäºæ·±åº¦æŠ€æœ¯åˆ†æ)
**æœ€åæ›´æ–°**: 2026-01-15
**ä½œè€…**: Claude (Sonnet 4.5)

---

**è®¸å¯è¯**: æœ¬æ–‡æ¡£é‡‡ç”¨ CC BY 4.0 è®¸å¯è¯å‘å¸ƒã€‚
