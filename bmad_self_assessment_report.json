{
  "overall_score": 92.6,
  "grade": "A (优秀)",
  "summary": {
    "total_issues": 29,
    "critical": 0,
    "high": 0,
    "medium": 13,
    "low": 16
  },
  "categories": [
    {
      "name": "架构质量",
      "score": 100,
      "max_score": 100,
      "percentage": 100.0,
      "summary": "架构分层清晰，职责分离良好，但需要确保所有文件完整",
      "strengths_count": 10,
      "issues_count": 0
    },
    {
      "name": "代码质量",
      "score": 60,
      "max_score": 100,
      "percentage": 60.0,
      "summary": "代码结构良好，但类型提示和文档可以进一步完善",
      "strengths_count": 3,
      "issues_count": 15
    },
    {
      "name": "功能完整性",
      "score": 100,
      "max_score": 100,
      "percentage": 100.0,
      "summary": "核心功能基本完整，实现了双路径、Party Mode、快捷指令",
      "strengths_count": 13,
      "issues_count": 0
    },
    {
      "name": "测试覆盖",
      "score": 97,
      "max_score": 100,
      "percentage": 97.0,
      "summary": "有基本测试覆盖，但需要更多边界条件和单元测试",
      "strengths_count": 6,
      "issues_count": 1
    },
    {
      "name": "文档质量",
      "score": 100,
      "max_score": 100,
      "percentage": 100.0,
      "summary": "文档基本完整，但需要更多示例和细节",
      "strengths_count": 3,
      "issues_count": 7
    },
    {
      "name": "兼容性",
      "score": 100,
      "max_score": 100,
      "percentage": 100.0,
      "summary": "与现有系统集成良好，有容错处理",
      "strengths_count": 3,
      "issues_count": 2
    },
    {
      "name": "性能考虑",
      "score": 84,
      "max_score": 100,
      "percentage": 84.0,
      "summary": "基本性能考虑到位，但可以增加缓存和资源限制",
      "strengths_count": 2,
      "issues_count": 3
    },
    {
      "name": "安全",
      "score": 100,
      "max_score": 100,
      "percentage": 100.0,
      "summary": "基本安全，未发现严重的 eval/exec 风险",
      "strengths_count": 3,
      "issues_count": 1
    }
  ],
  "critical_issues": [],
  "high_priority_issues": [],
  "all_issues": [
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\bmad_integration.py:process_request",
      "description": "函数过长: 55 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\bmad_integration.py:_handle_party_command",
      "description": "函数过长: 51 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "LOW",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\complexity_evaluator.py",
      "description": "发现较多魔法数字: {'200', '1000', '10', '50'}",
      "recommendation": "将魔法数字提取为命名常量"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\complexity_evaluator.py:to_dict",
      "description": "函数过长: 107 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\complexity_evaluator.py:evaluate",
      "description": "函数过长: 81 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "LOW",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\lightning_bridge.py",
      "description": "发现较多魔法数字: {'20', '30', '10', '85'}",
      "recommendation": "将魔法数字提取为命名常量"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\lightning_bridge.py:should_adjust_thresholds",
      "description": "函数过长: 53 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\lightning_bridge.py:get_optimal_party_roles",
      "description": "函数过长: 60 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "LOW",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\party_session.py",
      "description": "发现较多魔法数字: {'30', '200', '10', '60', '50'}",
      "recommendation": "将魔法数字提取为命名常量"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\party_session.py:run_phase",
      "description": "函数过长: 62 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\quick_commands.py:_format_general_help",
      "description": "函数过长: 52 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "LOW",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\workflow_router.py",
      "description": "发现较多魔法数字: {'10', '30', '15'}",
      "recommendation": "将魔法数字提取为命名常量"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\workflow_router.py:_register_default_workflows",
      "description": "函数过长: 175 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "MEDIUM",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\workflow_router.py:route",
      "description": "函数过长: 97 行",
      "recommendation": "考虑将长函数拆分为多个小函数"
    },
    {
      "severity": "LOW",
      "category": "代码质量",
      "location": "mindsymphony\\extensions\\bmad\\__init__.py",
      "description": "函数缺少返回类型提示",
      "recommendation": "添加 -> 返回类型提示以提高可维护性"
    },
    {
      "severity": "MEDIUM",
      "category": "测试覆盖",
      "location": "test_bmad_integration.py",
      "description": "缺少单元测试（当前主要是集成测试）",
      "recommendation": "为各个组件添加单元测试"
    },
    {
      "severity": "LOW",
      "category": "文档",
      "location": "mindsymphony\\extensions\\bmad\\bmad_integration.py",
      "description": "代码注释过少 (5.2%)",
      "recommendation": "添加更多行内注释"
    },
    {
      "severity": "LOW",
      "category": "文档",
      "location": "mindsymphony\\extensions\\bmad\\complexity_evaluator.py",
      "description": "代码注释过少 (9.9%)",
      "recommendation": "添加更多行内注释"
    },
    {
      "severity": "LOW",
      "category": "文档",
      "location": "mindsymphony\\extensions\\bmad\\lightning_bridge.py",
      "description": "代码注释过少 (6.1%)",
      "recommendation": "添加更多行内注释"
    },
    {
      "severity": "LOW",
      "category": "文档",
      "location": "mindsymphony\\extensions\\bmad\\party_session.py",
      "description": "代码注释过少 (5.0%)",
      "recommendation": "添加更多行内注释"
    },
    {
      "severity": "LOW",
      "category": "文档",
      "location": "mindsymphony\\extensions\\bmad\\quick_commands.py",
      "description": "代码注释过少 (6.6%)",
      "recommendation": "添加更多行内注释"
    },
    {
      "severity": "LOW",
      "category": "文档",
      "location": "mindsymphony\\extensions\\bmad\\workflow_router.py",
      "description": "代码注释过少 (4.1%)",
      "recommendation": "添加更多行内注释"
    },
    {
      "severity": "LOW",
      "category": "文档",
      "location": "mindsymphony\\extensions\\bmad\\__init__.py",
      "description": "代码注释过少 (6.8%)",
      "recommendation": "添加更多行内注释"
    },
    {
      "severity": "LOW",
      "category": "兼容性",
      "location": "mindsymphony\\extensions\\bmad\\quick_commands.py",
      "description": "使用 Python 3.8+ 特性 (:=)",
      "recommendation": "如需支持 3.7，请替换 walrus operator"
    },
    {
      "severity": "LOW",
      "category": "兼容性",
      "location": "bmad_integration.py",
      "description": "使用硬编码路径分隔符",
      "recommendation": "使用 os.path.join 或 pathlib 处理路径"
    },
    {
      "severity": "LOW",
      "category": "性能",
      "location": "complexity_evaluator.py",
      "description": "缺少评估结果缓存",
      "recommendation": "添加 lru_cache 缓存相同输入的评估结果"
    },
    {
      "severity": "MEDIUM",
      "category": "性能",
      "location": "party_session.py",
      "description": "Party Mode 缺少资源限制",
      "recommendation": "添加最大贡献数、最大会话时长限制"
    },
    {
      "severity": "MEDIUM",
      "category": "性能",
      "location": "bmad_integration.py",
      "description": "会话管理缺少清理机制",
      "recommendation": "添加会话过期清理或最大数量限制"
    },
    {
      "severity": "LOW",
      "category": "安全",
      "location": "mindsymphony\\extensions\\bmad\\complexity_evaluator.py",
      "description": "文件操作缺少错误处理",
      "recommendation": "添加 try-except 处理文件操作"
    }
  ]
}