# videocut 快速使用指南

## ✅ 安装完成检查

运行验证脚本确认环境是否就绪：

```bash
python D:\claudecode\verify_videocut.py
```

## 🎬 使用流程

### 1. 剪口播视频

```bash
# 在 Claude Code 中输入
帮我剪这个口播视频
```

**AI 会自动执行**：
1. 使用 FunASR 转录视频（30s 分段，带时间戳）
2. 识别口误（重复/卡顿/错误表述）
3. 识别静音片段（≥1s）
4. 识别语气词（嗯/哎/诶等）
5. 生成审查稿（标记所有要删除的片段）
6. 生成删除任务清单

**输出示例**：
```
时间          文本                    操作
00:00:01-03   大家好今天             → 删除（口误）
00:00:03-05   大家好今天我们要       → 保留
00:00:05-06   （静音1.2s）          → 删除
00:00:06-10   分享一个技巧           → 保留
```

### 2. 确认并执行剪辑

```bash
# 确认后执行
/videocut:剪辑
```

**AI 会执行**：
1. 使用 FFmpeg 精确删除标记的片段
2. 生成新视频（文件名添加 `_cut`）
3. 重新审查（检查是否还有遗漏）
4. 循环直到零口误

### 3. 生成字幕

```bash
/videocut:字幕
```

**AI 会执行**：
1. 使用 Whisper large-v3 转录
2. 词典纠错（专业术语/人名）
3. 生成 SRT 字幕文件
4. 烧录字幕到视频

### 4. 反馈优化（可选）

```bash
/videocut:自更新
```

告诉 AI 你的偏好：
- "保留更多停顿"
- "更严格删除口误"
- "这个不是口误，保留"

AI 会记住并在下次使用时应用。

## 📁 文件结构

```
your_project/
├── video.mp4              # 原视频
├── video_cut.mp4          # 剪辑后视频
├── video_cut_sub.mp4      # 带字幕视频
├── transcript.json        # 转录结果
├── review.md              # 审查稿
└── cuts.srt               # 字幕文件
```

## ⚡ 快捷命令

| 命令 | 功能 |
|------|------|
| `/videocut:安装` | 环境准备、模型下载 |
| `/videocut:剪口播` | 转录 + 口误/静音识别 |
| `/videocut:剪辑` | 执行 FFmpeg 剪辑 |
| `/videocut:字幕` | 字幕生成与烧录 |
| `/videocut:自更新` | 记录偏好，优化规则 |

## 🎯 使用技巧

1. **首次使用**：先用短视频测试（1-2分钟）
2. **审查稿**：仔细检查 AI 识别的口误
3. **手动调整**：可以手动编辑审查稿
4. **循环审查**：剪辑后 AI 会自动检查是否有遗漏
5. **自定义词典**：在自更新中添加专业术语

## ⚠️ 注意事项

- **磁盘空间**：确保有足够空间存储模型（5GB）和视频
- **处理时间**：取决于视频长度和硬件性能
- **时间戳精度**：30s 分段策略避免长视频漂移
- **网络要求**：仅首次下载模型时需要

## 🔧 故障排除

### 模型下载慢
- 使用国内镜像或 VPN
- 检查网络连接

### FFmpeg 错误
```bash
# 检查 FFmpeg 是否在 PATH 中
ffmpeg -version
```

### 内存不足
- 关闭其他程序
- 使用较小的 Whisper 模型（medium 或 small）

## 📚 相关文档

- `安装/SKILL.md` - 环境配置详情
- `剪口播/SKILL.md` - 转录识别流程
- `剪辑/SKILL.md` - FFmpeg 剪辑逻辑
- `字幕/SKILL.md` - Whisper 字幕生成
- `口误识别方法论.md` - 核心算法文档
